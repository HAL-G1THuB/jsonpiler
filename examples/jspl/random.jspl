define(
  rand_range, { max: Int }, Int,
  {
    assert(0 < $max, concat(
      "The argument to rand_range ",
      "must be greater than or equal to zero."
    ))
    rand = random()
    if([$rand == {-128 * 256 * 65536 * 65536 * 65536}, rand = 0])
    abs($rand) % $max
  }
)
rand_range(100)
